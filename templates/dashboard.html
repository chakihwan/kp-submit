{% extends 'base.html' %}
{% block title %}대시보드{% endblock %}
{% block content %}
<div class="grid gap-4">
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <div class="rounded-2xl border bg-white p-4 shadow-sm">
      <div class="text-sm text-gray-500">마감 임박</div>
      <div class="text-3xl font-bold mt-1">{{ kpi.urgent }}</div>
      <div class="text-xs text-gray-400 mt-1">3일 이내</div>
    </div>
    <div class="rounded-2xl border bg-white p-4 shadow-sm">
      <div class="text-sm text-gray-500">미제출</div>
      <div class="text-3xl font-bold mt-1">{{ kpi.pending }}</div>
    </div>
    <div class="rounded-2xl border bg-white p-4 shadow-sm">
      <div class="text-sm text-gray-500">채점 대기</div>
      <div class="text-3xl font-bold mt-1">{{ kpi.to_grade }}</div>
    </div>
    <div class="rounded-2xl border bg-white p-4 shadow-sm">
      <div class="text-sm text-gray-500">평균 점수</div>
      <div class="text-3xl font-bold mt-1">{{ kpi.avg }}</div>
    </div>
  </div>

  <div class="rounded-2xl border bg-white p-4 shadow-sm">
    <div class="font-semibold mb-2">최근 과제</div>
    <div class="overflow-auto rounded-xl border">
      <table class="min-w-full text-sm">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-3 py-2 text-left">제목</th>
            <th class="px-3 py-2 text-left">과목</th>
            <th class="px-3 py-2 text-left">마감</th>
            <th class="px-3 py-2 text-left">상태</th>
          </tr>
        </thead>
        <tbody>
          {% for a in assignments %}
          <tr class="border-t hover:bg-gray-50">
            <td class="px-3 py-2">{{ a.title }}</td>
            <td class="px-3 py-2">{{ a.course_title }}</td>
            <td class="px-3 py-2">{{ a.due_at }}</td>
            <td class="px-3 py-2">{{ a.status }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
