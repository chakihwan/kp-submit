{% extends 'base.html' %}
{% block title %}가입 요청{% endblock %}
{% block content %}
<div class="rounded-2xl border bg-white p-6 shadow-sm">
  <div class="flex items-center justify-between">
    <h1 class="text-xl font-semibold">가입 요청 – {{ team.name }}</h1>
    <a class="px-3 py-1.5 rounded-lg border text-sm hover:bg-gray-50" href="{% url 'team_detail' team_id=team.id %}">팀으로 돌아가기</a>
  </div>

  {% if requests %}
  <div class="mt-4 overflow-x-auto">
    <table class="min-w-full text-sm">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-3 py-2 text-left">학생</th>
          <th class="px-3 py-2 text-left">요청시각</th>
          <th class="px-3 py-2 text-right">승인/거절</th>
        </tr>
      </thead>
      <tbody>
        {% for r in requests %}
        <tr class="border-t">
          <td class="px-3 py-2">{{ r.student.username }}</td>
          <td class="px-3 py-2">{{ r.requested_at|date:"Y-m-d H:i" }}</td>
          <td class="px-3 py-2 text-right">
            <a class="px-3 py-1.5 rounded-lg bg-blue-600 text-white text-xs hover:bg-blue-500" href="{% url 'team_request_approve' membership_id=r.id %}">승인</a>
            <a class="ml-2 px-3 py-1.5 rounded-lg bg-red-600 text-white text-xs hover:bg-red-500" href="{% url 'team_request_reject' membership_id=r.id %}">거절</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="mt-4 text-sm text-gray-500">대기 중인 요청이 없습니다.</p>
  {% endif %}
</div>
{% endblock %}
